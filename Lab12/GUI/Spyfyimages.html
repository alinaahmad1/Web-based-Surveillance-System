<!DOCTYPE html>
<!-- This code is responsible of the Web app of Spyfy images.
It takes care of the structure of the web page and 
informs the browser on how the web page should be displayed -->
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel = "stylesheet" type="text/css" href="Spyfystyle.css">
	<title>Image tab</title>
</head>
<body>
	<div id="header">
		SPYFY Surviellance System Images
	</div>
	<!-- back button -->
	<input type="button" value="Go back" onclick="history.back()" class="button">
	<style>
		.myimg{
			width: 500px;
			height: 500px;
			display: block;
			margin: 10%;
		}
		input{
			float: right;
		}
	</style>
	
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"> </script>
	<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-storage.js"> </script>
	<script>
	/* get the details to fill this out from your firebase > project setting tab */ 
	  const firebaseConfig = {
	    apiKey: " ",
	    authDomain: " ",
	    databaseURL: " ",
	    projectId: " ",
	    storageBucket: " ",
	    messagingSenderId: " ",
	    appId: " ",
	    measurementId: " "
	  }; 

	  // Initialize Firebase
	  firebase.initializeApp(firebaseConfig);

	  
	  var rootref = firebase.database().ref().child("My Images"); 
	  
	  //loop over the realtime firebase and get the images
	  rootref.on("child_added", snap => {
	  	var image = snap.child("img").val();

	  	var img = document.createElement("img");
	  	img.src = image;
	  	img.setAttribute("class", "myimg");
	  	document.body.appendChild(img);
	  });
 
	</script>

</body>
</html>
